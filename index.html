<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sophia-1: Mestre da Geometria Completo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0fdf4; }
        h1, h2, h3, .font-title { font-family: 'Fredoka', sans-serif; }
        .card { transition: all 0.3s ease; }
        .card:hover { transform: translateY(-3px); box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.1); }
        .step-box { border-left: 4px solid #3b82f6; background-color: #eff6ff; animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .nav-btn.active { background-color: #ffffff; color: #166534; border-bottom: 4px solid #166534; font-weight: bold; transform: scale(1.05); }
        .canguru-badge { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.75rem; text-transform: uppercase; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .school-badge { background-color: #dbeafe; color: #1e40af; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.75rem; text-transform: uppercase; border: 1px solid #93c5fd; }
        .fun-fact { background-color: #fffbeb; border: 2px dashed #fbbf24; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex flex-col">

    <header class="bg-gradient-to-r from-green-700 to-emerald-600 text-white p-4 shadow-lg sticky top-0 z-30">
        <div class="max-w-5xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-3">
            <div class="flex items-center gap-3">
                <div class="bg-white text-green-700 p-2 rounded-lg font-bold text-xl shadow">üìê</div>
                <div>
                    <h1 class="text-2xl font-bold tracking-wide">Sophia-1</h1>
                    <p class="text-xs text-green-100 opacity-90">Vers√£o Completa: Conte√∫do & Pr√°tica</p>
                </div>
            </div>
            <div class="flex gap-4 items-center">
                <div class="text-sm bg-black/20 px-4 py-1.5 rounded-full backdrop-blur-md border border-white/20 font-bold flex items-center gap-2">
                    <span>‚≠ê Pontos:</span>
                    <span id="score-display" class="text-yellow-300 text-lg">0</span>
                </div>
            </div>
        </div>
    </header>

    <nav class="bg-green-600 text-white shadow-md z-20 overflow-x-auto">
        <div class="max-w-5xl mx-auto flex">
            <button onclick="renderSection('triangulos')" id="btn-triangulos" class="nav-btn active flex-1 py-3 px-4 text-center whitespace-nowrap hover:bg-green-500 transition border-r border-green-500/30">Tri√¢ngulos üî∫</button>
            <button onclick="renderSection('quadrilateros')" id="btn-quadrilateros" class="nav-btn flex-1 py-3 px-4 text-center whitespace-nowrap hover:bg-green-500 transition border-r border-green-500/30">Quadril√°teros üüß</button>
            <button onclick="renderSection('poligonos')" id="btn-poligonos" class="nav-btn flex-1 py-3 px-4 text-center whitespace-nowrap hover:bg-green-500 transition border-r border-green-500/30">Pol√≠gonos üî∑</button>
            <button onclick="renderSection('circulos')" id="btn-circulos" class="nav-btn flex-1 py-3 px-4 text-center whitespace-nowrap hover:bg-green-500 transition border-r border-green-500/30">C√≠rculos üî¥</button>
            <button onclick="renderSection('desafios')" id="btn-desafios" class="nav-btn flex-1 py-3 px-4 text-center whitespace-nowrap bg-yellow-500 hover:bg-yellow-400 text-yellow-900 font-bold border-l-4 border-yellow-600">üìù Exerc√≠cios</button>
        </div>
    </nav>

    <main id="content-area" class="flex-grow max-w-5xl mx-auto w-full p-4 sm:p-6 pb-20">
        </main>

    <footer class="bg-slate-800 text-slate-400 text-center p-8 mt-8 border-t-4 border-green-600">
        <p class="mb-2 font-bold text-slate-200">Sophia-1 Educational</p>
        <p class="text-xs">Baseado no curr√≠culo escolar e desafios de l√≥gica.</p>
    </footer>

    <script>
        // --- BASE DE DADOS COMPLETA (Baseada na Imagem) ---
        const contentData = {
            triangulos: {
                title: "Tri√¢ngulos: A Base de Tudo",
                color: "blue",
                intro: "A figura mais r√≠gida da geometria. Revisaremos classifica√ß√£o, √°reas, Pit√°goras e a importante Semelhan√ßa.",
                funFact: "üî¶ **Curiosidade:** O Teorema de Tales permite medir a altura de uma pir√¢mide usando apenas a sombra dela e de um bast√£o. Isso √© **Semelhan√ßa de Tri√¢ngulos** pura!",
                cards: [
                    {
                        title: "1. Classifica√ß√£o (Lados & √Çngulos)",
                        content: `
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
                                <div class="bg-blue-50 p-3 rounded">
                                    <h4 class="font-bold text-blue-700 mb-1 border-b border-blue-200 pb-1">Quanto aos Lados</h4>
                                    <ul class="list-disc pl-4 space-y-1 text-gray-700">
                                        <li><strong>Equil√°tero:</strong> 3 lados iguais (e √¢ngulos de 60¬∞).</li>
                                        <li><strong>Is√≥sceles:</strong> 2 lados iguais (√¢ngulos da base iguais).</li>
                                        <li><strong>Escaleno:</strong> 3 lados diferentes.</li>
                                    </ul>
                                </div>
                                <div class="bg-indigo-50 p-3 rounded">
                                    <h4 class="font-bold text-indigo-700 mb-1 border-b border-indigo-200 pb-1">Quanto aos √Çngulos</h4>
                                    <ul class="list-disc pl-4 space-y-1 text-gray-700">
                                        <li><strong>Acut√¢ngulo:</strong> √Çngulos < 90¬∞.</li>
                                        <li><strong>Ret√¢ngulo:</strong> Um √¢ngulo de 90¬∞ (reto).</li>
                                        <li><strong>Obtus√¢ngulo:</strong> Um √¢ngulo > 90¬∞ (aberto).</li>
                                    </ul>
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "2. Teoremas e Semelhan√ßa",
                        content: `
                            <div class="space-y-3 text-sm">
                                <p><strong>Soma dos √Çngulos:</strong> A soma interna √© SEMPRE <strong>180¬∞</strong>.</p>
                                <div class="bg-white border border-gray-200 p-2 rounded">
                                    <strong>Semelhan√ßa e Congru√™ncia:</strong><br>
                                    Dois tri√¢ngulos s√£o <em>semelhantes</em> se t√™m os mesmos √¢ngulos (um √© o 'zoom' do outro).<br>
                                    <em class="text-xs text-gray-500">Regra: Lados Proporcionais. Se a base dobra, a altura dobra.</em>
                                </div>
                                <div class="bg-red-50 p-2 rounded border-l-4 border-red-400">
                                    <strong>Pit√°goras (s√≥ tri√¢ngulo ret√¢ngulo):</strong><br>
                                    Hipotenusa¬≤ = Cateto¬≤ + Cateto¬≤ (a¬≤ = b¬≤ + c¬≤)
                                </div>
                            </div>
                        `
                    }
                ],
                examples: [
                    {
                        id: "ex_tri_1",
                        title: "Semelhan√ßa (A Sombra do Pr√©dio)",
                        problem: "Um pr√©dio projeta uma sombra de 30m. No mesmo hor√°rio, um poste de 2m projeta uma sombra de 3m. Qual a altura do pr√©dio?",
                        steps: [
                            "Conceito: Os raios do sol criam tri√¢ngulos semelhantes.",
                            "Monte a propor√ß√£o: <strong>Altura Pr√©dio / Sombra Pr√©dio = Altura Poste / Sombra Poste</strong>.",
                            "Substituindo: H / 30 = 2 / 3.",
                            "Multiplica cruzado: 3 . H = 30 . 2",
                            "3H = 60",
                            "H = 60 / 3 -> <strong>H = 20 metros</strong>."
                        ],
                        shape: `<svg viewBox="0 0 150 80"><line x1="10" y1="70" x2="140" y2="70" stroke="black"/><rect x="20" y="30" width="10" height="40" fill="gray"/><line x1="30" y1="70" x2="80" y2="70" stroke="orange" stroke-width="2"/><rect x="100" y="50" width="2" height="20" fill="black"/><line x1="102" y1="70" x2="132" y2="70" stroke="orange" stroke-width="2"/><text x="45" y="65" font-size="8">30m</text><text x="110" y="65" font-size="8">3m</text><text x="105" y="45" font-size="8">2m</text><text x="22" y="25" font-size="8">H?</text></svg>`
                    }
                ]
            },
            quadrilateros: {
                title: "Quadril√°teros Not√°veis",
                color: "orange",
                intro: "Figuras de 4 lados. A soma dos √¢ngulos internos √© sempre 360¬∞. Inclui Paralelogramos e Trap√©zios.",
                funFact: "üî∂ **Nota:** Todo quadrado √© um ret√¢ngulo (tem √¢ngulos retos) e tamb√©m √© um losango (tem lados iguais). Ele √© a fus√£o perfeita!",
                cards: [
                    {
                        title: "1. Tipos Principais",
                        content: `
                            <ul class="text-sm list-disc pl-5 space-y-1">
                                <li><strong>Paralelogramo:</strong> Lados opostos paralelos e iguais.</li>
                                <li><strong>Ret√¢ngulo:</strong> Paralelogramo com 4 √¢ngulos de 90¬∞.</li>
                                <li><strong>Losango:</strong> Paralelogramo com 4 lados iguais.</li>
                                <li><strong>Trap√©zio:</strong> Apenas um par de lados paralelos (bases).</li>
                            </ul>
                        `
                    },
                    {
                        title: "2. F√≥rmulas de √Årea",
                        content: `
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <div class="bg-orange-50 p-2 rounded">
                                    <strong>Ret√¢ngulo/Paralel.:</strong><br>Base √ó Altura
                                </div>
                                <div class="bg-orange-50 p-2 rounded">
                                    <strong>Quadrado:</strong><br>Lado¬≤
                                </div>
                                <div class="bg-orange-50 p-2 rounded">
                                    <strong>Trap√©zio:</strong><br>((BaseMaior + baseMenor) . h) / 2
                                </div>
                                <div class="bg-orange-50 p-2 rounded">
                                    <strong>Losango:</strong><br>(DiagonalMaior . diagMenor) / 2
                                </div>
                            </div>
                        `
                    }
                ],
                examples: [
                    {
                        id: "ex_quad_1",
                        title: "√Årea do Trap√©zio",
                        problem: "Um trap√©zio tem base maior 10, base menor 6 e altura 4. Qual a √°rea?",
                        steps: [
                            "F√≥rmula: A = ((B + b) . h) / 2",
                            "Substituindo: A = ((10 + 6) . 4) / 2",
                            "Par√™nteses primeiro: A = (16 . 4) / 2",
                            "Calculando: A = 64 / 2",
                            "Resultado: <strong>32 unidades de √°rea</strong>."
                        ],
                        shape: `<svg viewBox="0 0 100 60"><polygon points="20,50 80,50 70,20 30,20" fill="none" stroke="#ea580c" stroke-width="2"/><line x1="30" y1="20" x2="30" y2="50" stroke="black" stroke-dasharray="2"/><text x="45" y="15" font-size="8">b=6</text><text x="45" y="58" font-size="8">B=10</text><text x="32" y="35" font-size="8">h=4</text></svg>`
                    }
                ]
            },
            poligonos: {
                title: "Pol√≠gonos e seus Segredos",
                color: "purple",
                intro: "Figuras com muitos lados. Aqui estudamos Diagonais, Ap√≥tema e √Çngulos.",
                funFact: "üêù **Voc√™ sabia?** O Ap√≥tema √© fundamental para calcular a √°rea de hex√°gonos regulares, como os das colmeias de abelhas.",
                cards: [
                    {
                        title: "1. Elementos do Pol√≠gono",
                        content: `
                            <ul class="text-sm list-disc pl-5 space-y-2">
                                <li><strong>Pol√≠gono Regular:</strong> Todos os lados e todos os √¢ngulos s√£o iguais.</li>
                                <li><strong>Ap√≥tema (a):</strong> Segmento que sai do centro e vai at√© o meio do lado (formando 90¬∞).</li>
                                <li><strong>Per√≠metro (P):</strong> Soma de todos os lados.</li>
                            </ul>
                        `
                    },
                    {
                        title: "2. F√≥rmulas M√°gicas",
                        content: `
                            <p class="text-sm mb-2 p-1 bg-purple-50 rounded"><strong>Soma √Çngulos Internos (Si):</strong><br> Si = (n - 2) √ó 180¬∞ <br><span class="text-xs text-gray-500">(Onde n = n√∫mero de lados)</span></p>
                            <p class="text-sm mb-2 p-1 bg-purple-50 rounded"><strong>N√∫mero de Diagonais (d):</strong><br> d = n(n - 3) / 2</p>
                            <p class="text-sm p-1 bg-purple-50 rounded"><strong>√Årea (Pol√≠gono Regular):</strong><br> A = (Per√≠metro √ó Ap√≥tema) / 2</p>
                        `
                    }
                ],
                examples: [
                    {
                        id: "ex_poli_1",
                        title: "Diagonais do Pent√°gono",
                        problem: "Quantas diagonais tem um Pent√°gono (5 lados)?",
                        steps: [
                            "F√≥rmula: d = n(n - 3) / 2",
                            "n = 5. Substitua: d = 5(5 - 3) / 2",
                            "Resolva par√™nteses: d = 5(2) / 2",
                            "Multiplique: d = 10 / 2",
                            "Resultado: <strong>5 diagonais</strong> (formam uma estrela!)."
                        ],
                        shape: `<svg viewBox="0 0 100 100"><polygon points="50,10 90,40 75,90 25,90 10,40" fill="none" stroke="#7e22ce" stroke-width="2"/><path d="M50 10 L75 90 M50 10 L25 90 M90 40 L25 90 M90 40 L10 40 M75 90 L10 40" stroke="purple" stroke-width="0.5" stroke-dasharray="2"/></svg>`
                    }
                ]
            },
            circulos: {
                title: "C√≠rculo e Circunfer√™ncia",
                color: "red",
                intro: "A distin√ß√£o importante: Circunfer√™ncia √© a linha (borda), C√≠rculo √© a regi√£o preenchida (pizza).",
                funFact: "üé° **F√≠sica:** A dist√¢ncia que uma roda percorre em uma volta completa √© exatamente o comprimento da sua Circunfer√™ncia (2œÄR).",
                cards: [
                    {
                        title: "1. Elementos da Circunfer√™ncia",
                        content: `
                            <ul class="text-sm list-disc pl-5 space-y-1">
                                <li><strong>Raio (R):</strong> Centro at√© a borda.</li>
                                <li><strong>Di√¢metro (D):</strong> Lado a lado passando pelo centro (D = 2R).</li>
                                <li><strong>Corda:</strong> Liga dois pontos (maior corda = di√¢metro).</li>
                                <li><strong>Arco:</strong> Um peda√ßo da curva da circunfer√™ncia.</li>
                            </ul>
                        `
                    },
                    {
                        title: "2. √Çngulos e F√≥rmulas",
                        content: `
                            <div class="space-y-2 text-sm">
                                <p><strong>Comprimento (C):</strong> 2 . œÄ . R</p>
                                <p><strong>√Årea (A):</strong> œÄ . R¬≤</p>
                                <div class="border-t pt-2 mt-2">
                                    <p><strong>√Çngulo Central:</strong> Igual √† medida do arco.</p>
                                    <p><strong>√Çngulo Inscrito:</strong> O v√©rtice est√° na borda. Vale a METADE do arco.</p>
                                </div>
                            </div>
                        `
                    }
                ],
                examples: [
                    {
                        id: "ex_circ_1",
                        title: "√Çngulo Inscrito",
                        problem: "Um arco mede 80¬∞. Quanto mede o √¢ngulo inscrito correspondente (alfa)?",
                        steps: [
                            "Regra: O √¢ngulo inscrito √© a metade do arco que ele enxerga.",
                            "Arco = 80¬∞.",
                            "Alfa = 80 / 2",
                            "Resultado: <strong>40¬∞</strong>."
                        ],
                        shape: `<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="#ef4444"/><path d="M50 50 L90 50" stroke="gray" stroke-dasharray="2"/><line x1="20" y1="20" x2="80" y2="20" stroke="none"/><path d="M10 50 Q 50 10 90 50" fill="none" stroke="transparent"/><text x="85" y="40" font-size="8">80¬∞</text><line x1="10" y1="50" x2="50" y2="90" stroke="red"/><line x1="90" y1="50" x2="50" y2="90" stroke="red"/><text x="45" y="85" font-size="8">Œ±</text></svg>`
                    }
                ]
            }
        };

        const exercisesData = [
            // --- EXERC√çCIOS ESCOLARES (BASICS FIRST) ---
            {
                id: 1,
                category: "Aquecimento Escolar",
                isCanguru: false,
                question: "Qual √© a √°rea de um ret√¢ngulo com base 8 cm e altura 5 cm?",
                options: ["13 cm¬≤", "40 cm¬≤", "26 cm¬≤", "20 cm¬≤"],
                correctIndex: 1,
                explanation: ["F√≥rmula: Base x Altura. 8 x 5 = 40."]
            },
            {
                id: 2,
                category: "Aquecimento Escolar",
                isCanguru: false,
                question: "Se o raio de um c√≠rculo √© 3 cm, qual √© o seu di√¢metro?",
                options: ["1.5 cm", "3 cm", "6 cm", "9 cm"],
                correctIndex: 2,
                explanation: ["O di√¢metro √© o dobro do raio. 2 x 3 = 6."]
            },
            {
                id: 3,
                category: "Aquecimento Escolar",
                isCanguru: false,
                question: "Em um tri√¢ngulo, dois √¢ngulos medem 50¬∞ e 60¬∞. Quanto mede o terceiro √¢ngulo?",
                options: ["70¬∞", "80¬∞", "90¬∞", "60¬∞"],
                correctIndex: 0,
                explanation: ["A soma deve ser 180¬∞. Temos 50+60=110. 180 - 110 = 70¬∞."]
            },
            {
                id: 4,
                category: "Aquecimento Escolar",
                isCanguru: false,
                question: "Qual a soma dos √¢ngulos internos de um Quadrado?",
                options: ["180¬∞", "360¬∞", "540¬∞", "90¬∞"],
                correctIndex: 1,
                explanation: ["Qualquer quadril√°tero soma 360¬∞. O quadrado tem 4 √¢ngulos de 90¬∞ (4x90=360)."]
            },
            {
                id: 5,
                category: "Aquecimento Escolar",
                isCanguru: false,
                question: "Qual figura possui 4 lados iguais, mas n√£o tem necessariamente √¢ngulos de 90¬∞?",
                options: ["Ret√¢ngulo", "Trap√©zio", "Losango", "Escaleno"],
                correctIndex: 2,
                explanation: ["O Losango tem 4 lados iguais (como o quadrado), mas pode ser 'achatado'."]
            },
            {
                id: 6,
                category: "Aquecimento Escolar",
                isCanguru: false,
                question: "Calcule o n√∫mero de diagonais de um Hex√°gono (6 lados).",
                options: ["6", "9", "12", "5"],
                correctIndex: 1,
                explanation: ["F√≥rmula: n(n-3)/2. Hex√°gono n=6. 6(3)/2 = 18/2 = 9."]
            },

            // --- DESAFIOS CANGURU / L√ìGICA (ADVANCED) ---
            {
                id: 101,
                category: "L√≥gica & Aritm√©tica",
                isCanguru: true,
                question: "O ano de 2025 √© um quadrado perfeito (45¬≤). Daqui a quantos anos teremos o pr√≥ximo quadrado perfeito?",
                options: ["46 anos", "89 anos", "91 anos", "100 anos"],
                correctIndex: 2,
                explanation: ["O pr√≥ximo √© 46¬≤. 46x46 = 2116. Diferen√ßa: 2116 - 2025 = 91 anos."]
            },
            {
                id: 102,
                category: "Geometria Visual",
                isCanguru: true,
                question: "Temos dois quadrados de lado 10cm sobrepostos. Um v√©rtice est√° no centro do outro. Qual a √°rea da interse√ß√£o?",
                options: ["20 cm¬≤", "25 cm¬≤", "50 cm¬≤", "10 cm¬≤"],
                correctIndex: 1,
                explanation: ["Se girarmos o quadrado em torno do centro, vemos que ele cobre sempre 1/4 da √°rea. √Årea total 100. 1/4 de 100 = 25."]
            },
            {
                id: 103,
                category: "L√≥gica",
                isCanguru: true,
                question: "Um rel√≥gio marca 20:25. Qual o tempo m√≠nimo para ver os mesmos d√≠gitos (0, 2, 2, 5) novamente?",
                options: ["1h 37min (22:05)", "2h 00min", "4h 25min", "5h 00min"],
                correctIndex: 0,
                explanation: ["Os d√≠gitos s√£o 0, 2, 2, 5. Pr√≥xima hora poss√≠vel com 2 √© 22h. Minutos com 0 e 5 formam 05. Hor√°rio: 22:05."]
            },
            {
                id: 104,
                category: "Geometria Espacial",
                isCanguru: true,
                question: "Cubo 3x3x3 pintado de azul por fora. Quantos cubinhos pequenos permanecem brancos (sem tinta)?",
                options: ["1", "8", "9", "7"],
                correctIndex: 0,
                explanation: ["Apenas o cubo central do 'miolo' n√£o toca a parte externa. √â um cubo 1x1x1."]
            }
        ];

        let currentScore = 0;

        function renderSection(sectionId) {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${sectionId}`).classList.add('active');
            
            const container = document.getElementById('content-area');
            
            if (sectionId === 'desafios') {
                renderExercises(container);
                return;
            }

            const data = contentData[sectionId];
            
            let examplesHtml = data.examples.map((ex, idx) => `
                <div class="bg-white rounded-xl shadow-lg border-l-4 border-${data.color}-500 overflow-hidden mb-8">
                    <div class="p-4 bg-${data.color}-50 flex justify-between items-center border-b border-${data.color}-100">
                        <h3 class="font-bold text-lg text-${data.color}-800 flex items-center gap-2">üìù ${ex.title}</h3>
                        <span class="text-xs font-bold uppercase text-${data.color}-500 bg-white px-3 py-1 rounded-full shadow-sm">Exemplo ${idx + 1}</span>
                    </div>
                    <div class="p-5 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="shape-container flex items-center justify-center bg-slate-50 rounded-lg border border-slate-200 p-4">
                            ${ex.shape}
                        </div>
                        <div class="col-span-2 flex flex-col justify-between">
                            <div>
                                <p class="text-gray-800 mb-4 font-medium text-lg">${ex.problem}</p>
                                <div id="steps-container-${ex.id}" class="space-y-3 mb-4"></div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="revealStep('${ex.id}', ${idx}, '${sectionId}')" id="btn-reveal-${ex.id}" class="bg-${data.color}-600 hover:bg-${data.color}-700 text-white py-2 px-6 rounded-lg font-bold shadow-md transition flex items-center gap-2">
                                    <span>Ver Passo</span> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" /></svg>
                                </button>
                                <button onclick="resetStep('${ex.id}')" id="btn-reset-${ex.id}" class="hidden bg-gray-100 hover:bg-gray-200 text-gray-600 py-2 px-4 rounded-lg font-bold transition">Reiniciar</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            let cardsHtml = data.cards.map(card => `
                <div class="card bg-white p-6 rounded-xl shadow border border-gray-100 h-full">
                    <h3 class="font-title text-xl text-${data.color}-600 mb-4 border-b pb-2">${card.title}</h3>
                    <div class="text-gray-600 leading-relaxed">${card.content}</div>
                </div>
            `).join('');

            container.innerHTML = `
                <div class="animate-fade-in space-y-8">
                    <div class="text-center">
                        <h2 class="text-4xl font-bold text-${data.color}-700 font-title mb-2">${data.title}</h2>
                        <p class="text-gray-600 text-lg max-w-2xl mx-auto">${data.intro}</p>
                    </div>
                    <div class="fun-fact p-4 rounded-lg shadow-sm text-yellow-900 flex gap-3 items-start max-w-3xl mx-auto">
                        <span class="text-2xl">ü§ì</span> <p>${data.funFact}</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">${cardsHtml}</div>
                    <div class="pt-8">
                        <h3 class="text-2xl font-bold text-gray-700 mb-6 font-title text-center">Exemplos Resolvidos</h3>
                        ${examplesHtml}
                    </div>
                </div>
            `;
            data.examples.forEach(ex => window[`stepIndex_${ex.id}`] = 0);
        }

        function renderExercises(container) {
            let exercisesHtml = exercisesData.map((ex, index) => {
                const badge = ex.isCanguru 
                    ? `<span class="canguru-badge">üèÜ Desafio Canguru</span>` 
                    : `<span class="school-badge">üìö Exerc√≠cio Escolar</span>`;
                const borderClass = ex.isCanguru ? "border-orange-400 bg-orange-50/30" : "border-blue-400 bg-white";
                
                return `
                <div class="p-6 rounded-xl shadow-md ${borderClass} border-l-8 mb-8">
                    <div class="flex justify-between items-start mb-4">
                        ${badge}
                        <span class="text-gray-400 font-mono text-sm">#${index + 1}</span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-6">${ex.question}</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4">
                        ${ex.options.map((opt, i) => `
                            <button onclick="checkAnswer(${ex.id}, ${i})" class="option-btn-${ex.id} w-full text-left p-4 rounded-lg bg-white border-2 border-gray-100 hover:border-blue-400 hover:bg-blue-50 transition shadow-sm font-medium text-gray-700">
                                <span class="font-bold text-gray-400 mr-2">${['A','B','C','D'][i]}.</span> ${opt}
                            </button>
                        `).join('')}
                    </div>
                    <div id="feedback-${ex.id}" class="hidden p-4 rounded-lg mb-3 text-sm"></div>
                    <div id="solution-${ex.id}" class="hidden mt-4 bg-white p-5 rounded-lg border border-green-200 shadow-inner">
                        <h4 class="font-bold text-green-700 mb-2">Explica√ß√£o:</h4>
                        <p class="text-gray-700">${ex.explanation}</p>
                    </div>
                </div>
            `}).join('');

            container.innerHTML = `
                <div class="max-w-3xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-4xl font-bold text-yellow-600 font-title mb-2">Central de Exerc√≠cios</h2>
                        <p class="text-gray-600">Comece pelo b√°sico e avance para os desafios!</p>
                    </div>
                    ${exercisesHtml}
                </div>
            `;
        }

        function revealStep(exampleId, exampleIndex, sectionId) {
            const data = contentData[sectionId];
            const example = data.examples[exampleIndex];
            const currentIndex = window[`stepIndex_${exampleId}`];
            
            if (currentIndex < example.steps.length) {
                const container = document.getElementById(`steps-container-${exampleId}`);
                const stepText = example.steps[currentIndex];
                const div = document.createElement('div');
                div.className = 'step-box p-3 rounded-r text-gray-800 text-sm flex gap-4 items-center shadow-sm';
                div.innerHTML = `<div class="bg-${data.color}-600 text-white w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs">${currentIndex + 1}</div><div class="flex-grow">${stepText}</div>`;
                container.appendChild(div);
                window[`stepIndex_${exampleId}`]++;
                if (window[`stepIndex_${exampleId}`] >= example.steps.length) {
                    document.getElementById(`btn-reveal-${exampleId}`).classList.add('hidden');
                    document.getElementById(`btn-reset-${exampleId}`).classList.remove('hidden');
                }
            }
        }

        function resetStep(exampleId) {
            document.getElementById(`steps-container-${exampleId}`).innerHTML = '';
            window[`stepIndex_${exampleId}`] = 0;
            document.getElementById(`btn-reveal-${exampleId}`).classList.remove('hidden');
            document.getElementById(`btn-reset-${exampleId}`).classList.add('hidden');
        }

        function checkAnswer(questionId, selectedIndex) {
            const exercise = exercisesData.find(e => e.id === questionId);
            const buttons = document.querySelectorAll(`.option-btn-${questionId}`);
            const feedbackBox = document.getElementById(`feedback-${questionId}`);
            
            if(buttons[0].disabled) return;
            
            buttons.forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('hover:bg-blue-50', 'hover:border-blue-400');
            });

            if (selectedIndex === exercise.correctIndex) {
                buttons[selectedIndex].classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                feedbackBox.innerHTML = "<strong>‚ú® Correto! Muito bem!</strong>";
                feedbackBox.className = "p-4 rounded-lg mb-3 text-sm bg-green-50 text-green-800 border border-green-200";
                currentScore += 10;
                document.getElementById('score-display').innerText = currentScore;
            } else {
                buttons[selectedIndex].classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                buttons[exercise.correctIndex].classList.add('bg-green-50', 'border-green-300', 'ring-2', 'ring-green-400');
                feedbackBox.innerHTML = "<strong>Ops! Tente entender a explica√ß√£o abaixo.</strong>";
                feedbackBox.className = "p-4 rounded-lg mb-3 text-sm bg-red-50 text-red-800 border border-red-200";
            }
            feedbackBox.classList.remove('hidden');
            document.getElementById(`solution-${questionId}`).classList.remove('hidden');
        }

        // Init
        renderSection('triangulos');
    </script>
</body>
</html>
